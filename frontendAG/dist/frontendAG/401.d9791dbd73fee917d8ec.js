"use strict";(self.webpackChunkfrontend_ag=self.webpackChunkfrontend_ag||[]).push([[401],{8391:(D,p,t)=>{t.d(p,{g:()=>h});var s=t(7716),P=t(2608);let h=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=s.Xpm({type:a,selectors:[["app-navigation-bar"]],inputs:{title:"title"},decls:8,vars:1,consts:[[1,"w-full","flex","border-b-2","border-gray-500","justify-start"],[1,"flex","text-2xl","ml-4","font-medium","rounded-full","text-blue-400","hover:bg-gray-800","hover:text-white","float-right"],[1,"grid","grid-cols-6"],[1,"hidden"],["key","arrow-left","color","white","fontSize","35px"],[1,"col-span-5"],[1,"ml-3"]],template:function(e,u){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"a",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"svg-icon",4),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"h2",6),s._uU(7),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(7),s.Oqu(u.title))},directives:[P.bk],styles:[""]}),a})()},329:(D,p,t)=>{t.d(p,{d:()=>l});var s=t(8583),P=t(5218),h=t(2608),a=t(7716);let l=(()=>{class e{}return e.\u0275fac=function(v){return new(v||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,P.Bz,h.Kz]]}),e})()},4956:(D,p,t)=>{function s(f,M,m,_,o,r,b){try{var L=f[r](b),O=L.value}catch(S){return void m(S)}L.done?M(O):Promise.resolve(O).then(_,o)}t.d(p,{S:()=>Z});var h=t(5858),a=t(5128),l=t(2340),e=t(7716),u=t(1584),v=t(5218),c=t(3980),E=t(2608),y=t(8583);const A=function(f){return{hidden:f}},T=function(){return["/home"]},n=function(){return["/noti"]},i=function(){return["/messages"]},g=function(f){return["/profile",f]},d=function(){return["/preferences"]};let Z=(()=>{class f{constructor(m,_,o){this.cookieService=m,this.router=_,this.store=o,this.url=l.N.apiUrl,this.navbar=!0}onTest(){this.navbar=!this.navbar}onLogout(){var m=this;return function(f){return function(){var M=this,m=arguments;return new Promise(function(_,o){var r=f.apply(M,m);function b(O){s(r,_,o,b,L,"next",O)}function L(O){s(r,_,o,b,L,"throw",O)}b(void 0)})}}(function*(){try{m.cookieService.deleteAll(),m.store.dispatch(a.dQ()),m.store.dispatch(h.tS()),m.router.navigate(["/login"])}catch(_){console.log(_)}})()}}return f.\u0275fac=function(m){return new(m||f)(e.Y36(u.N),e.Y36(v.F0),e.Y36(c.yh))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-side-bar-left"]],inputs:{idUser:"idUser",username:"username",display_name:"display_name",image:"image"},decls:65,vars:17,consts:[[1,"w-full","relative","md:h-screen"],["id","nav-barleft",1,"md:grid","md:grid-cols-6"],[1,""],[1,"md:flex-col","md:col-span-4"],["clickable","",1,"pt-2","md:invisible","absolute","right-1",3,"click"],["key","bars","fontSize","28px",1,"text-white","hover:text-indigo-500"],[1,"m-3","flex","cursor-pointer"],[1,"text-2xl","text-indigo-300","tracking-wide","ml-2","font-semibold"],[1,"md:block",3,"ngClass"],[1,"cursor-pointer","mt-4"],["routerLinkActive","router-link-active",1,"w-full","pl-4","py-3","text-white","flex","items-center","text-base","font-semibold","rounded-full","hover:bg-gray-600","hover:text-blue-300",3,"routerLink"],[1,"grid","grid-cols-6"],["key","home-simple","color","white","fontSize","20px"],[1,"col-span-5"],[1,"ml-3"],[1,"cursor-pointer","mt-2"],["routerLinkActive","router-link-active",1,"w-full","pl-4","py-3","text-white","flex","items-center","text-base","font-semibold","rounded-full","hover:bg-gray-600","hover:text-white",3,"routerLink"],["key","bell","color","white","fontSize","20px"],["key","messages","color","white","fontSize","20px"],["key","id-card","color","white","fontSize","20px"],["key","gears","color","white","fontSize","20px"],[1,"w-full","pl-4","py-3","text-white","flex","items-center","text-base","font-semibold","rounded-full","hover:bg-gray-600","hover:text-blue-300",3,"click"],["key","arrow-right-from-bracket","color","white","fontSize","20px"],[1,"absolute","bottom-0","w-full","invisible","md:visible"],[1,"flex","mb-5","mx-10","py-2","rounded-full","bg-dim-600","hover:bg-gray-600"],[1,"flex-none","justify-center"],["alt","user-profile-image",1,"ml-2","h-12","w-12","rounded-full",3,"src"],[1,"flex-grow","h-auto"],[1,"text-white","md:text-sx","lg:text-sm","text-justify","pl-2","py-2","invisible","lg:visible"]],template:function(m,_){1&m&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return _.onTest()}),e._UZ(5,"svg-icon",5),e.qZA(),e.TgZ(6,"button",6),e.TgZ(7,"h2",7),e._uU(8,"ef Recipes"),e.qZA(),e.qZA(),e.TgZ(9,"section",8),e.TgZ(10,"div",9),e.TgZ(11,"a",10),e.TgZ(12,"div",11),e.TgZ(13,"div"),e._UZ(14,"svg-icon",12),e.qZA(),e.TgZ(15,"div",13),e.TgZ(16,"h2",14),e._uU(17,"Home"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",15),e.TgZ(19,"a",16),e.TgZ(20,"div",11),e.TgZ(21,"div"),e._UZ(22,"svg-icon",17),e.qZA(),e.TgZ(23,"div",13),e.TgZ(24,"h2",14),e._uU(25,"Notifications"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",15),e.TgZ(27,"a",10),e.TgZ(28,"div",11),e.TgZ(29,"div"),e._UZ(30,"svg-icon",18),e.qZA(),e.TgZ(31,"div",13),e.TgZ(32,"h2",14),e._uU(33,"Messages"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",15),e.TgZ(35,"a",10),e.TgZ(36,"div",11),e.TgZ(37,"div"),e._UZ(38,"svg-icon",19),e.qZA(),e.TgZ(39,"div",13),e.TgZ(40,"h2",14),e._uU(41,"Profile"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",15),e.TgZ(43,"a",10),e.TgZ(44,"div",11),e.TgZ(45,"div"),e._UZ(46,"svg-icon",20),e.qZA(),e.TgZ(47,"div",13),e.TgZ(48,"h2",14),e._uU(49,"Preference"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",15),e.TgZ(51,"button",21),e.NdJ("click",function(){return _.onLogout()}),e.TgZ(52,"div",11),e.TgZ(53,"div"),e._UZ(54,"svg-icon",22),e.qZA(),e.TgZ(55,"div",13),e.TgZ(56,"h2",14),e._uU(57,"Logout"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",23),e.TgZ(59,"div",24),e.TgZ(60,"div",25),e._UZ(61,"img",26),e.qZA(),e.TgZ(62,"div",27),e.TgZ(63,"p",28),e._uU(64),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&m&&(e.xp6(9),e.Q6J("ngClass",e.VKq(9,A,_.navbar)),e.xp6(2),e.Q6J("routerLink",e.DdM(11,T)),e.xp6(8),e.Q6J("routerLink",e.DdM(12,n)),e.xp6(8),e.Q6J("routerLink",e.DdM(13,i)),e.xp6(8),e.Q6J("routerLink",e.VKq(14,g,_.idUser)),e.xp6(8),e.Q6J("routerLink",e.DdM(16,d)),e.xp6(18),e.s9C("src",_.url+"cdn/user/"+_.image,e.LSH),e.xp6(3),e.AsE(" ",_.display_name,"@",_.username," "))},directives:[E.bk,y.mk,v.yS,v.Od],styles:[""]}),f})()},6005:(D,p,t)=>{t.d(p,{u:()=>v});var s=t(8583),P=t(5218),h=t(2608),a=t(5858),l=t(5128),e=t(3980),u=t(7716);let v=(()=>{class c{}return c.\u0275fac=function(y){return new(y||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[[s.ez,P.Bz,h.Kz,e.Aw.forFeature(l.u2,l.ZP),e.Aw.forFeature(a.u2,a.ZP)]]}),c})()},9960:(D,p,t)=>{t.d(p,{W:()=>A});var s=t(665),P=t(2340),h=t(3980),a=t(5128),l=t(3342),e=t(7716),u=t(1615),v=t(9344),c=t(2608),E=t(8583);function y(T,n){if(1&T&&(e.TgZ(0,"div",12),e.TgZ(1,"a",13),e.TgZ(2,"h2",14),e._uU(3),e.qZA(),e.qZA(),e.qZA()),2&T){const i=n.$implicit;e.xp6(3),e.Oqu(i.tags)}}let A=(()=>{class T{constructor(i,g,d){this.postService=i,this.toastr=g,this.store=d,this.tags$=this.postService.tagsPost$,this.formSearch=new s.cw({search:new s.NI("",[s.kI.maxLength(25),s.kI.pattern(P.N.TextValidation)])}),this.apiHelperSlice$=this.store.select((0,h.P1)(a.iv,Z=>Z))}ngOnInit(){this.stateObserver=this.apiHelperSlice$.pipe((0,l.b)(i=>{this.page=i.TrendsPage,i.TrendsisLoading||(this.store.dispatch(a.Z0(!0)),this.postService.getTagsPost("",this.page))})).subscribe()}onMoreData(){this.page=(Number(this.page)+1).toString(),this.store.dispatch(a.QU(this.page)),this.postService.getTagsPost("",this.page)}onSearchData(){try{this.formSearch.invalid?this.toastr.warning("Invalid data","warning!",{closeButton:!0,progressBar:!0,timeOut:1500}):(this.postService.clearPostFeedData(),this.postService.getPostFeedData(this.formSearch.controls.search.value,this.page,!0))}catch(i){console.log(i)}}ngOnDestroy(){this.stateObserver.unsubscribe()}}return T.\u0275fac=function(i){return new(i||T)(e.Y36(u.L),e.Y36(v._W),e.Y36(h.yh))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-side-bar-right"]],decls:15,vars:4,consts:[[1,"h-screen","overflow-y-auto"],[3,"formGroup","ngSubmit"],[1,"flex","relative","w-full","text-gray-300","py-3","px-4"],["type","submit",1,"absolute","ml-4","mt-3","mr-4"],["key","magnifying-glass","color","white"],["formControlName","search","type","search","name","search","placeholder","Search post",1,"bg-dim-500","h-10","px-10","pr-5","w-full","rounded-full","text-sm","focus:outline-none","bg-purple-white","shadow","border-0"],[1,"flex","flex-col","rounded-lg","shadow-lg","m-4","border-2","border-gray-600","divide-y","divide-gray-700"],[1,"w-full","hover:bg-gray-600"],[1,"px-6","py-6","text-xl","font-semibold","text-white"],["class","cursor-pointer hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"flex","justify-center"],[1,"px-4","my-2","bg-transparent","border-2","border-blue-500","text-blue-500","text-lg","rounded-full","hover:bg-blue-500","hover:text-gray-100","focus:border-4","focus:border-blue-300",3,"click"],[1,"cursor-pointer","hover:bg-gray-600"],[1,"flex-1"],[1,"px-4","ml-2","my-2","font-bold","text-white"]],template:function(i,g){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){return g.onSearchData()}),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e._UZ(4,"svg-icon",4),e.qZA(),e._UZ(5,"input",5),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"h2",8),e._uU(9,"Trends"),e.qZA(),e.qZA(),e.YNc(10,y,4,1,"div",9),e.ALo(11,"async"),e.TgZ(12,"div",10),e.TgZ(13,"button",11),e.NdJ("click",function(){return g.onMoreData()}),e._uU(14,"More"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(1),e.Q6J("formGroup",g.formSearch),e.xp6(9),e.Q6J("ngForOf",e.lcZ(11,2,g.tags$)))},directives:[s._Y,s.JL,s.sg,c.bk,s.Fj,s.JJ,s.u,E.sg],pipes:[E.Ov],styles:[""]}),T})()},6181:(D,p,t)=>{t.d(p,{o:()=>v});var s=t(8583),P=t(5218),h=t(2608),a=t(5128),l=t(3980),e=t(665),u=t(7716);let v=(()=>{class c{}return c.\u0275fac=function(y){return new(y||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[[s.ez,P.Bz,h.Kz,e.UX,l.Aw.forFeature(a.u2,a.ZP)]]}),c})()},1615:(D,p,t)=>{t.d(p,{L:()=>y});var s=t(8741),P=t(6215),h=t(9765),a=t(5257),l=t(3342),e=t(2996),u=t(7057),v=t(7716),c=t(42),E=t(5218);let y=(()=>{class A{constructor(n,i){this.apollo=n,this.router=i,this.profilePostSubject=new P.X([]),this.postByUser$=this.profilePostSubject.asObservable(),this.commentsPostSubject=new P.X([]),this.commentsByPost$=this.commentsPostSubject.asObservable(),this.tagsSubject=new P.X([]),this.tagsPost$=this.tagsSubject.asObservable(),this.PostSubject=new h.xQ,this.postByID$=this.PostSubject.asObservable(),this.PostFeedSubject=new P.X([]),this.postFeed$=this.PostFeedSubject.asObservable()}addCommentToPost(n){this.commentsByPost$.pipe((0,a.q)(1),(0,l.b)(i=>{this.commentsPostSubject.next([n,...i])})).subscribe()}addPostFeedData(n){this.postFeed$.pipe((0,a.q)(1),(0,l.b)(i=>{this.PostFeedSubject.next([n,...i])})).subscribe()}addPostProfileData(n){this.postByUser$.pipe((0,a.q)(1),(0,l.b)(i=>{this.profilePostSubject.next([n,...i])})).subscribe()}getTagsPost(n,i){try{const g=s.Ps`
      query tagsPost($TAGS:String!,$PAGE:String!){ 
        tagsPost(tags:$TAGS, page:$PAGE){
          tags
        }
      }
    `;this.apollo.watchQuery({query:g,variables:{PAGE:i,TAGS:n},fetchPolicy:"network-only"}).valueChanges.pipe((0,a.q)(1),(0,e.j)("data","tagsPost"),(0,u.M)(this.tagsPost$),(0,l.b)(([d,Z])=>{this.tagsSubject.next([...Z,...d])},d=>{console.log("there was an error sending the query",d)})).subscribe()}catch(g){console.log(g)}}clearPostByUserData(){this.profilePostSubject.next([])}clearCommentsByPostData(){this.commentsPostSubject.next([])}clearPostFeedData(){this.PostFeedSubject.next([])}getPostByUserData(n,i){try{const g=s.Ps`
      query postsByUser($id: String!,$PAGE:String!){ 
        postsByUser(id:$id,page:$PAGE){
          id
          title
          body
          image
          nLike
          nComment
          tags
        }
      }
    `;this.apollo.watchQuery({query:g,variables:{id:n,PAGE:i},fetchPolicy:"network-only"}).valueChanges.pipe((0,a.q)(1),(0,e.j)("data","postsByUser"),(0,u.M)(this.postByUser$),(0,l.b)(([d,Z])=>{this.profilePostSubject.next([...Z,...d])},d=>{console.log("there was an error sending the query",d)})).subscribe()}catch(g){console.log(g)}}addPostToProfileData(n){this.postByUser$.pipe((0,a.q)(1),(0,l.b)(i=>{this.profilePostSubject.next([n,...i])})).subscribe()}getPostFeedData(n,i,g){try{const d=s.Ps`
      query postsFeed($SEARCH:String!,$PAGE:String!){ 
        postsFeed(search:$SEARCH,page:$PAGE){
          id
          title
          body
          image
          nLike
          nComment
          tags
          user_Owner{
            id
            username
            display_name
            image
          }
        }
      }
    `;this.apollo.watchQuery({query:d,variables:{SEARCH:n,PAGE:i},fetchPolicy:"network-only"}).valueChanges.pipe((0,a.q)(1),(0,e.j)("data","postsFeed"),(0,u.M)(this.postFeed$),(0,l.b)(([Z,f])=>{this.PostFeedSubject.next([...f,...Z]),g&&this.router.navigate(["/home"])},Z=>{console.log("there was an error sending the query",Z)})).subscribe()}catch(d){console.log(d)}}getCommentsByPostData(n,i){try{const g=s.Ps`
      query commentsByPost($ID:String!,$PAGE:String!){ 
        commentsByPost(post_Owner:$ID,page:$PAGE){
          body
          user_Action{
            username
            image
          }
        }
      }
        
    `;this.apollo.watchQuery({query:g,variables:{ID:n,PAGE:i},fetchPolicy:"network-only"}).valueChanges.pipe((0,a.q)(1),(0,e.j)("data","commentsByPost"),(0,u.M)(this.commentsByPost$),(0,l.b)(([d,Z])=>{this.commentsPostSubject.next([...Z,...d])},d=>{console.log("there was an error sending the query",d)})).subscribe()}catch(g){console.log(g)}}}return A.\u0275fac=function(n){return new(n||A)(v.LFG(c._M),v.LFG(E.F0))},A.\u0275prov=v.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},5128:(D,p,t)=>{t.d(p,{ZP:()=>m,u2:()=>M,Z0:()=>l,QU:()=>e,pJ:()=>v,FG:()=>c,f1:()=>E,$:()=>y,M9:()=>A,fH:()=>T,WD:()=>n,as:()=>i,TK:()=>g,oW:()=>d,Cv:()=>Z,dQ:()=>f,iv:()=>_});var s=t(2537),P=t(3980);const h=(0,s.oM)({name:"rest-helpers",initialState:{TrendsisLoading:!1,TrendsPage:"0",MessagesisLoading:!1,Chatcode:"",MessagesPage:"0",NotificationsisLoading:!1,NotificationsPage:"0",ProfilePostisLoading:!1,ProfilePostPage:"0",ProfilePostIdUser:"",PostisLoading:!1,PostPage:"0",ContactsisLoading:!1,ContactsPage:"0"},reducers:{setTrendsisLoading:(o,r)=>{o.TrendsisLoading=r.payload},setTrendsPage:(o,r)=>{o.TrendsPage=r.payload},setMessagesisLoading:(o,r)=>{o.MessagesisLoading=r.payload},setChatcode:(o,r)=>{o.Chatcode=r.payload},setMessagesPage:(o,r)=>{o.MessagesPage=r.payload},setNotificationsisLoading:(o,r)=>{o.NotificationsisLoading=r.payload},setNotificationsPage:(o,r)=>{o.NotificationsPage=r.payload},setProfilePostisLoading:(o,r)=>{o.ProfilePostisLoading=r.payload},setProfilePostPage:(o,r)=>{o.ProfilePostPage=r.payload},setProfilePostIdUser:(o,r)=>{o.ProfilePostIdUser=r.payload},setPostisLoading:(o,r)=>{o.PostisLoading=r.payload},setPostPage:(o,r)=>{o.PostPage=r.payload},setContactsisLoading:(o,r)=>{o.ContactsisLoading=r.payload},setContactsPage:(o,r)=>{o.ContactsPage=r.payload},resetDataAPI:o=>{o.TrendsisLoading=!1,o.TrendsPage="0",o.MessagesisLoading=!1,o.Chatcode="",o.MessagesPage="0",o.NotificationsisLoading=!1,o.NotificationsPage="0",o.ProfilePostisLoading=!1,o.ProfilePostPage="0",o.ProfilePostIdUser="",o.PostisLoading=!1,o.PostPage="0",o.ContactsisLoading=!1,o.ContactsPage="0"}}}),{actions:{setTrendsisLoading:l,setTrendsPage:e,setMessagesPage:v,setChatcode:c,setNotificationsisLoading:E,setNotificationsPage:y,setProfilePostisLoading:A,setProfilePostPage:T,setProfilePostIdUser:n,setPostisLoading:i,setPostPage:g,setContactsisLoading:d,setContactsPage:Z,resetDataAPI:f},name:M}=h,m=h.reducer,_=(0,P.ZF)(M)}}]);