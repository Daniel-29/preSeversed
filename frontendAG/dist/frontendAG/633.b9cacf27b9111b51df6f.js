"use strict";(self.webpackChunkfrontend_ag=self.webpackChunkfrontend_ag||[]).push([[633],{8391:(M,v,o)=>{o.d(v,{g:()=>h});var s=o(7716),u=o(2608);let h=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-navigation-bar"]],inputs:{title:"title"},decls:8,vars:1,consts:[[1,"w-full","flex","border-b-2","border-gray-500","justify-start"],[1,"flex","text-2xl","ml-4","font-medium","rounded-full","text-blue-400","hover:bg-gray-800","hover:text-white","float-right"],[1,"grid","grid-cols-6"],[1,"hidden"],["key","arrow-left","color","white","fontSize","35px"],[1,"col-span-5"],[1,"ml-3"]],template:function(t,P){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"a",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"svg-icon",4),s.qZA(),s.TgZ(5,"div",5),s.TgZ(6,"h2",6),s._uU(7),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(7),s.Oqu(P.title))},directives:[u.bk],styles:[""]}),e})()},329:(M,v,o)=>{o.d(v,{d:()=>l});var s=o(8583),u=o(5218),h=o(2608),e=o(7716);let l=(()=>{class t{}return t.\u0275fac=function(p){return new(p||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,u.Bz,h.Kz]]}),t})()},5824:(M,v,o)=>{o.d(v,{S:()=>_});var s=o(5858),u=o(5128),h=o(2340),e=o(7716),l=o(1584),t=o(5218),P=o(3980),p=o(2608),c=o(8583);const f=function(d){return{hidden:d}},A=function(){return["/home"]},E=function(){return["/noti"]},m=function(){return["/messages"]},r=function(d){return["/profile",d]},a=function(){return["/preferences"]},g=function(){return["/login"]};let _=(()=>{class d{constructor(Z,T,y){this.cookieService=Z,this.router=T,this.store=y,this.url=h.N.apiUrl,this.navbar=!0}onTest(){this.navbar=!this.navbar}onLogout(){this.store.dispatch(u.dQ()),this.store.dispatch(s.tS()),this.cookieService.deleteAll("token"),this.router.navigate(["/login"])}}return d.\u0275fac=function(Z){return new(Z||d)(e.Y36(l.N),e.Y36(t.F0),e.Y36(P.yh))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-side-bar-left"]],inputs:{idUser:"idUser",username:"username",display_name:"display_name",image:"image"},decls:65,vars:19,consts:[[1,"w-full","relative","md:h-screen"],["id","nav-barleft",1,"md:grid","md:grid-cols-6"],[1,""],[1,"md:flex-col","md:col-span-4"],["clickable","",1,"pt-2","md:invisible","absolute","right-1",3,"click"],["key","bars","fontSize","28px",1,"text-white","hover:text-indigo-500"],[1,"m-3","flex","cursor-pointer"],[1,"text-2xl","text-indigo-300","tracking-wide","ml-2","font-semibold"],[1,"md:block",3,"ngClass"],[1,"cursor-pointer","mt-4"],["routerLinkActive","router-link-active",1,"w-full","pl-4","py-3","text-white","flex","items-center","text-base","font-semibold","rounded-full","hover:bg-gray-600","hover:text-blue-300",3,"routerLink"],[1,"grid","grid-cols-6"],["key","home-simple","color","white","fontSize","20px"],[1,"col-span-5"],[1,"ml-3"],[1,"cursor-pointer","mt-2"],["routerLinkActive","router-link-active",1,"w-full","pl-4","py-3","text-white","flex","items-center","text-base","font-semibold","rounded-full","hover:bg-gray-600","hover:text-white",3,"routerLink"],["key","bell","color","white","fontSize","20px"],["key","messages","color","white","fontSize","20px"],["key","id-card","color","white","fontSize","20px"],["key","gears","color","white","fontSize","20px"],["key","arrow-right-from-bracket","color","white","fontSize","20px"],[1,"col-span-5",3,"click"],[1,"absolute","bottom-0","w-full","invisible","md:visible"],[1,"flex","mb-5","mx-10","py-2","rounded-full","bg-dim-600","hover:bg-gray-600"],[1,"flex-none","justify-center"],["alt","user-profile-image",1,"ml-2","h-12","w-12","rounded-full",3,"src"],[1,"flex-grow","h-auto"],[1,"text-white","md:text-sx","lg:text-sm","text-justify","pl-2","py-2","invisible","lg:visible"]],template:function(Z,T){1&Z&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return T.onTest()}),e._UZ(5,"svg-icon",5),e.qZA(),e.TgZ(6,"button",6),e.TgZ(7,"h2",7),e._uU(8,"ef Recipes"),e.qZA(),e.qZA(),e.TgZ(9,"section",8),e.TgZ(10,"div",9),e.TgZ(11,"a",10),e.TgZ(12,"div",11),e.TgZ(13,"div"),e._UZ(14,"svg-icon",12),e.qZA(),e.TgZ(15,"div",13),e.TgZ(16,"h2",14),e._uU(17,"Home"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",15),e.TgZ(19,"a",16),e.TgZ(20,"div",11),e.TgZ(21,"div"),e._UZ(22,"svg-icon",17),e.qZA(),e.TgZ(23,"div",13),e.TgZ(24,"h2",14),e._uU(25,"Notifications"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",15),e.TgZ(27,"a",10),e.TgZ(28,"div",11),e.TgZ(29,"div"),e._UZ(30,"svg-icon",18),e.qZA(),e.TgZ(31,"div",13),e.TgZ(32,"h2",14),e._uU(33,"Messages"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",15),e.TgZ(35,"a",10),e.TgZ(36,"div",11),e.TgZ(37,"div"),e._UZ(38,"svg-icon",19),e.qZA(),e.TgZ(39,"div",13),e.TgZ(40,"h2",14),e._uU(41,"Profile"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",15),e.TgZ(43,"a",10),e.TgZ(44,"div",11),e.TgZ(45,"div"),e._UZ(46,"svg-icon",20),e.qZA(),e.TgZ(47,"div",13),e.TgZ(48,"h2",14),e._uU(49,"Preference"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",15),e.TgZ(51,"a",10),e.TgZ(52,"div",11),e.TgZ(53,"div"),e._UZ(54,"svg-icon",21),e.qZA(),e.TgZ(55,"button",22),e.NdJ("click",function(){return T.onLogout()}),e.TgZ(56,"h2",14),e._uU(57,"Logout"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",23),e.TgZ(59,"div",24),e.TgZ(60,"div",25),e._UZ(61,"img",26),e.qZA(),e.TgZ(62,"div",27),e.TgZ(63,"p",28),e._uU(64),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&Z&&(e.xp6(9),e.Q6J("ngClass",e.VKq(10,f,T.navbar)),e.xp6(2),e.Q6J("routerLink",e.DdM(12,A)),e.xp6(8),e.Q6J("routerLink",e.DdM(13,E)),e.xp6(8),e.Q6J("routerLink",e.DdM(14,m)),e.xp6(8),e.Q6J("routerLink",e.VKq(15,r,T.idUser)),e.xp6(8),e.Q6J("routerLink",e.DdM(17,a)),e.xp6(8),e.Q6J("routerLink",e.DdM(18,g)),e.xp6(10),e.s9C("src",T.url+"cdn/user/"+T.image,e.LSH),e.xp6(3),e.AsE(" ",T.display_name,"@",T.username," "))},directives:[p.bk,c.mk,t.yS,t.Od],styles:[""]}),d})()},6005:(M,v,o)=>{o.d(v,{u:()=>p});var s=o(8583),u=o(5218),h=o(2608),e=o(5858),l=o(5128),t=o(3980),P=o(7716);let p=(()=>{class c{}return c.\u0275fac=function(A){return new(A||c)},c.\u0275mod=P.oAB({type:c}),c.\u0275inj=P.cJS({imports:[[s.ez,u.Bz,h.Kz,t.Aw.forFeature(l.u2,l.ZP),t.Aw.forFeature(e.u2,e.ZP)]]}),c})()},9960:(M,v,o)=>{o.d(v,{W:()=>E});var s=o(665),u=o(2340),h=o(3980),e=o(5128),l=o(3342),t=o(7716),P=o(1615),p=o(9344),c=o(2608),f=o(8583);function A(m,r){if(1&m&&(t.TgZ(0,"div",12),t.TgZ(1,"a",13),t.TgZ(2,"h2",14),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&m){const a=r.$implicit;t.xp6(3),t.Oqu(a.tags)}}let E=(()=>{class m{constructor(a,g,_){this.postService=a,this.toastr=g,this.store=_,this.tags$=this.postService.tagsPost$,this.formSearch=new s.cw({search:new s.NI("",[s.kI.maxLength(25),s.kI.pattern(u.N.TextValidation)])}),this.apiHelperSlice$=this.store.select((0,h.P1)(e.iv,d=>d))}ngOnInit(){this.stateObserver=this.apiHelperSlice$.pipe((0,l.b)(a=>{this.page=a.TrendsPage,a.TrendsisLoading||(this.store.dispatch(e.Z0(!0)),this.postService.getTagsPost("",this.page))})).subscribe()}onMoreData(){this.page=(Number(this.page)+1).toString(),this.store.dispatch(e.QU(this.page)),this.postService.getTagsPost("",this.page)}onSearchData(){try{this.formSearch.invalid?this.toastr.warning("Invalid data","warning!",{closeButton:!0,progressBar:!0,timeOut:1500}):(this.postService.clearPostFeedData(),this.postService.getPostFeedData(this.formSearch.controls.search.value,this.page,!0))}catch(a){console.log(a)}}ngOnDestroy(){this.stateObserver.unsubscribe()}}return m.\u0275fac=function(a){return new(a||m)(t.Y36(P.L),t.Y36(p._W),t.Y36(h.yh))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-side-bar-right"]],decls:15,vars:4,consts:[[1,"h-screen","overflow-y-auto"],[3,"formGroup","ngSubmit"],[1,"flex","relative","w-full","text-gray-300","py-3","px-4"],["type","submit",1,"absolute","ml-4","mt-3","mr-4"],["key","magnifying-glass","color","white"],["formControlName","search","type","search","name","search","placeholder","Search post",1,"bg-dim-500","h-10","px-10","pr-5","w-full","rounded-full","text-sm","focus:outline-none","bg-purple-white","shadow","border-0"],[1,"flex","flex-col","rounded-lg","shadow-lg","m-4","border-2","border-gray-600","divide-y","divide-gray-700"],[1,"w-full","hover:bg-gray-600"],[1,"px-6","py-6","text-xl","font-semibold","text-white"],["class","cursor-pointer hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"flex","justify-center"],[1,"px-4","my-2","bg-transparent","border-2","border-blue-500","text-blue-500","text-lg","rounded-full","hover:bg-blue-500","hover:text-gray-100","focus:border-4","focus:border-blue-300",3,"click"],[1,"cursor-pointer","hover:bg-gray-600"],[1,"flex-1"],[1,"px-4","ml-2","my-2","font-bold","text-white"]],template:function(a,g){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return g.onSearchData()}),t.TgZ(2,"div",2),t.TgZ(3,"button",3),t._UZ(4,"svg-icon",4),t.qZA(),t._UZ(5,"input",5),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"h2",8),t._uU(9,"Trends"),t.qZA(),t.qZA(),t.YNc(10,A,4,1,"div",9),t.ALo(11,"async"),t.TgZ(12,"div",10),t.TgZ(13,"button",11),t.NdJ("click",function(){return g.onMoreData()}),t._uU(14,"More"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a&&(t.xp6(1),t.Q6J("formGroup",g.formSearch),t.xp6(9),t.Q6J("ngForOf",t.lcZ(11,2,g.tags$)))},directives:[s._Y,s.JL,s.sg,c.bk,s.Fj,s.JJ,s.u,f.sg],pipes:[f.Ov],styles:[""]}),m})()},6181:(M,v,o)=>{o.d(v,{o:()=>p});var s=o(8583),u=o(5218),h=o(2608),e=o(5128),l=o(3980),t=o(665),P=o(7716);let p=(()=>{class c{}return c.\u0275fac=function(A){return new(A||c)},c.\u0275mod=P.oAB({type:c}),c.\u0275inj=P.cJS({imports:[[s.ez,u.Bz,h.Kz,t.UX,l.Aw.forFeature(e.u2,e.ZP)]]}),c})()},1615:(M,v,o)=>{o.d(v,{L:()=>A});var s=o(8741),u=o(6215),h=o(9765),e=o(5257),l=o(3342),t=o(2996),P=o(7057),p=o(7716),c=o(42),f=o(5218);let A=(()=>{class E{constructor(r,a){this.apollo=r,this.router=a,this.profilePostSubject=new u.X([]),this.postByUser$=this.profilePostSubject.asObservable(),this.commentsPostSubject=new u.X([]),this.commentsByPost$=this.commentsPostSubject.asObservable(),this.tagsSubject=new u.X([]),this.tagsPost$=this.tagsSubject.asObservable(),this.PostSubject=new h.xQ,this.postByID$=this.PostSubject.asObservable(),this.PostFeedSubject=new u.X([]),this.postFeed$=this.PostFeedSubject.asObservable()}addCommentToPost(r){this.commentsByPost$.pipe((0,e.q)(1),(0,l.b)(a=>{this.commentsPostSubject.next([r,...a])})).subscribe()}addPostFeedData(r){this.postFeed$.pipe((0,e.q)(1),(0,l.b)(a=>{this.PostFeedSubject.next([r,...a])})).subscribe()}addPostProfileData(r){this.postByUser$.pipe((0,e.q)(1),(0,l.b)(a=>{this.profilePostSubject.next([r,...a])})).subscribe()}getTagsPost(r,a){try{const g=s.Ps`
      query tagsPost($TAGS:String!,$PAGE:String!){ 
        tagsPost(tags:$TAGS, page:$PAGE){
          tags
        }
      }
    `;this.apollo.watchQuery({query:g,variables:{PAGE:a,TAGS:r},fetchPolicy:"network-only"}).valueChanges.pipe((0,e.q)(1),(0,t.j)("data","tagsPost"),(0,P.M)(this.tagsPost$),(0,l.b)(([_,d])=>{this.tagsSubject.next([...d,..._])},_=>{console.log("there was an error sending the query",_)})).subscribe()}catch(g){console.log(g)}}clearPostByUserData(){this.profilePostSubject.next([])}clearCommentsByPostData(){this.commentsPostSubject.next([])}clearPostFeedData(){this.PostFeedSubject.next([])}getPostByUserData(r,a){try{const g=s.Ps`
      query postsByUser($id: String!,$PAGE:String!){ 
        postsByUser(id:$id,page:$PAGE){
          id
          title
          body
          image
          nLike
          nComment
          tags
        }
      }
    `;this.apollo.watchQuery({query:g,variables:{id:r,PAGE:a},fetchPolicy:"network-only"}).valueChanges.pipe((0,e.q)(1),(0,t.j)("data","postsByUser"),(0,P.M)(this.postByUser$),(0,l.b)(([_,d])=>{this.profilePostSubject.next([...d,..._])},_=>{console.log("there was an error sending the query",_)})).subscribe()}catch(g){console.log(g)}}addPostToProfileData(r){this.postByUser$.pipe((0,e.q)(1),(0,l.b)(a=>{this.profilePostSubject.next([r,...a])})).subscribe()}getPostFeedData(r,a,g){try{const _=s.Ps`
      query postsFeed($SEARCH:String!,$PAGE:String!){ 
        postsFeed(search:$SEARCH,page:$PAGE){
          id
          title
          body
          image
          nLike
          nComment
          tags
          user_Owner{
            id
            username
            display_name
            image
          }
        }
      }
    `;this.apollo.watchQuery({query:_,variables:{SEARCH:r,PAGE:a},fetchPolicy:"network-only"}).valueChanges.pipe((0,e.q)(1),(0,t.j)("data","postsFeed"),(0,P.M)(this.postFeed$),(0,l.b)(([d,D])=>{this.PostFeedSubject.next([...D,...d]),g&&this.router.navigate(["/home"])},d=>{console.log("there was an error sending the query",d)})).subscribe()}catch(_){console.log(_)}}getCommentsByPostData(r,a){try{const g=s.Ps`
      query commentsByPost($ID:String!,$PAGE:String!){ 
        commentsByPost(post_Owner:$ID,page:$PAGE){
          body
          user_Action{
            username
            image
          }
        }
      }
        
    `;this.apollo.watchQuery({query:g,variables:{ID:r,PAGE:a},fetchPolicy:"network-only"}).valueChanges.pipe((0,e.q)(1),(0,t.j)("data","commentsByPost"),(0,P.M)(this.commentsByPost$),(0,l.b)(([_,d])=>{this.commentsPostSubject.next([...d,..._])},_=>{console.log("there was an error sending the query",_)})).subscribe()}catch(g){console.log(g)}}}return E.\u0275fac=function(r){return new(r||E)(p.LFG(c._M),p.LFG(f.F0))},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},5128:(M,v,o)=>{o.d(v,{ZP:()=>T,u2:()=>Z,Z0:()=>l,QU:()=>t,pJ:()=>p,FG:()=>c,f1:()=>f,$:()=>A,M9:()=>E,fH:()=>m,WD:()=>r,as:()=>a,TK:()=>g,oW:()=>_,Cv:()=>d,dQ:()=>D,iv:()=>y});var s=o(2537),u=o(3980);const h=(0,s.oM)({name:"rest-helpers",initialState:{TrendsisLoading:!1,TrendsPage:"0",MessagesisLoading:!1,Chatcode:"",MessagesPage:"0",NotificationsisLoading:!1,NotificationsPage:"0",ProfilePostisLoading:!1,ProfilePostPage:"0",ProfilePostIdUser:"",PostisLoading:!1,PostPage:"0",ContactsisLoading:!1,ContactsPage:"0"},reducers:{setTrendsisLoading:(i,n)=>{i.TrendsisLoading=n.payload},setTrendsPage:(i,n)=>{i.TrendsPage=n.payload},setMessagesisLoading:(i,n)=>{i.MessagesisLoading=n.payload},setChatcode:(i,n)=>{i.Chatcode=n.payload},setMessagesPage:(i,n)=>{i.MessagesPage=n.payload},setNotificationsisLoading:(i,n)=>{i.NotificationsisLoading=n.payload},setNotificationsPage:(i,n)=>{i.NotificationsPage=n.payload},setProfilePostisLoading:(i,n)=>{i.ProfilePostisLoading=n.payload},setProfilePostPage:(i,n)=>{i.ProfilePostPage=n.payload},setProfilePostIdUser:(i,n)=>{i.ProfilePostIdUser=n.payload},setPostisLoading:(i,n)=>{i.PostisLoading=n.payload},setPostPage:(i,n)=>{i.PostPage=n.payload},setContactsisLoading:(i,n)=>{i.ContactsisLoading=n.payload},setContactsPage:(i,n)=>{i.ContactsPage=n.payload},resetDataAPI:i=>{i.TrendsisLoading=!1,i.TrendsPage="0",i.MessagesisLoading=!1,i.Chatcode="",i.MessagesPage="0",i.NotificationsisLoading=!1,i.NotificationsPage="0",i.ProfilePostisLoading=!1,i.ProfilePostPage="0",i.ProfilePostIdUser="",i.PostisLoading=!1,i.PostPage="0",i.ContactsisLoading=!1,i.ContactsPage="0"}}}),{actions:{setTrendsisLoading:l,setTrendsPage:t,setMessagesPage:p,setChatcode:c,setNotificationsisLoading:f,setNotificationsPage:A,setProfilePostisLoading:E,setProfilePostPage:m,setProfilePostIdUser:r,setPostisLoading:a,setPostPage:g,setContactsisLoading:_,setContactsPage:d,resetDataAPI:D},name:Z}=h,T=h.reducer,y=(0,u.ZF)(Z)}}]);